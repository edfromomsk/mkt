<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="326px" preserveAspectRatio="none" style="width:561px;height:326px;background:#24272B;" version="1.1" viewBox="0 0 561 326" width="561px" zoomAndPan="magnify"><defs/><g><rect fill="#7FAFE1" height="117.2422" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="73" y="67.7988"/><rect fill="#7FAFE1" height="205.1738" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="267" y="67.7988"/><rect fill="#7FAFE1" height="117.2422" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="404" y="97.1094"/><line style="stroke:#7FAFE1;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="78" x2="78" y1="36.4883" y2="290.9727"/><line style="stroke:#7FAFE1;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="272" x2="272" y1="36.4883" y2="290.9727"/><line style="stroke:#7FAFE1;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="409" x2="409" y1="36.4883" y2="290.9727"/><line style="stroke:#7FAFE1;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="464" x2="464" y1="36.4883" y2="290.9727"/><line style="stroke:#7FAFE1;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="529" x2="529" y1="36.4883" y2="290.9727"/><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="146" x="5" y="5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="12" y="25.5352">Админка контента</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="146" x="5" y="289.9727"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="12" y="310.5078">Админка контента</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="222" x="161" y="5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="168" y="25.5352">content-card-reference-cards</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="222" x="161" y="289.9727"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="168" y="310.5078">content-card-reference-cards</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="32" x="393" y="5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="400" y="25.5352">db</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="32" x="393" y="289.9727"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="400" y="310.5078">db</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="59" x="435" y="5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="442" y="25.5352">basket</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="59" x="435" y="289.9727"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="442" y="310.5078">basket</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="51" x="504" y="5"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="511" y="25.5352">kafka</text><rect fill="#7FAFE1" height="30.4883" rx="10" ry="10" style="stroke:#7FAFE1;stroke-width:0.5;" width="51" x="504" y="289.9727"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="511" y="310.5078">kafka</text><rect fill="#7FAFE1" height="117.2422" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="73" y="67.7988"/><rect fill="#7FAFE1" height="205.1738" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="267" y="67.7988"/><rect fill="#7FAFE1" height="117.2422" style="stroke:#7FAFE1;stroke-width:1.0;" width="10" x="404" y="97.1094"/><polygon fill="#7FAFE1" points="255,63.7988,265,67.7988,255,71.7988,259,67.7988" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="83" x2="261" y1="67.7988" y2="67.7988"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="90" y="63.0566">1</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="103" y="63.0566">запрос на создание ЭКТ</text><polygon fill="#7FAFE1" points="392,93.1094,402,97.1094,392,101.1094,396,97.1094" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="277" x2="398" y1="97.1094" y2="97.1094"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="284" y="92.3672">2</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="297" y="92.3672">сбор КТ</text><polygon fill="#7FAFE1" points="288,122.4199,278,126.4199,288,130.4199,284,126.4199" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="282" x2="403" y1="126.4199" y2="126.4199"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="294" y="121.6777">3</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="307" y="121.6777">raw json</text><polygon fill="#7FAFE1" points="94,151.7305,84,155.7305,94,159.7305,90,155.7305" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="88" x2="266" y1="155.7305" y2="155.7305"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="100" y="150.9883">4</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="113" y="150.9883">raw json</text><polygon fill="#7FAFE1" points="255,181.041,265,185.041,255,189.041,259,185.041" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="78" x2="261" y1="185.041" y2="185.041"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="85" y="180.2988">5</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="98" y="180.2988">корректировка</text><polygon fill="#7FAFE1" points="397,210.3516,407,214.3516,397,218.3516,401,214.3516" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="277" x2="403" y1="214.3516" y2="214.3516"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="284" y="209.6094">6</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="297" y="209.6094">card.json</text><polygon fill="#7FAFE1" points="452.5,239.6621,462.5,243.6621,452.5,247.6621,456.5,243.6621" style="stroke:#7FAFE1;stroke-width:1.0;"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="277" x2="458.5" y1="243.6621" y2="243.6621"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="284" y="238.9199">7</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="297" y="238.9199">card.json</text><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="527.5" x2="517.5" y1="272.9727" y2="268.9727"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="527.5" x2="517.5" y1="272.9727" y2="276.9727"/><line style="stroke:#7FAFE1;stroke-width:1.0;" x1="272" x2="528.5" y1="272.9727" y2="272.9727"/><text fill="#7FAFE1" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="279" y="268.2305">8</text><text fill="#7FAFE1" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="292" y="268.2305">reference-card-actions</text><!--MD5=[ce85398bbf7ae2fc2818d8abee3ac555]
@startuml
skinparam DefaultFontColor #7fafe1
skinparam BackgroundColor #24272b
skinparam roundcorner 20

skinparam sequence {
    ArrowColor #7fafe1
    LifeLineBorderColor #7fafe1 
    LifeLineBackgroundColor #7fafe1
    ParticipantBorderColor #7fafe1 
    ParticipantBackgroundColor #7fafe1 
    ParticipantFontColor white

    ActorBorderColor #7fafe1 
    ActorBackgroundColor #7fafe1
}
autonumber


participant "Админка контента" as admin
participant "content-card-reference-cards" as ccrc

admin -> ccrc: запрос на создание ЭКТ
activate admin
activate ccrc
ccrc -> db: сбор КТ
activate db
db - -> ccrc: raw json

ccrc - -> admin: raw json
admin -> ccrc: корректировка
deactivate admin
ccrc -> db: card.json

deactivate db
ccrc -> basket: card.json

ccrc ->> kafka: reference-card-actions
deactivate ccrc

@enduml

PlantUML version 1.2022.7(Mon Aug 22 20:01:30 MSK 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ru
Country: RU
--></g></svg>